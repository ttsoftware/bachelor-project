\documentclass[12pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[margin=1in]{geometry}
\usepackage[hidelinks]{hyperref}
\usepackage{float}
\usepackage[danish]{varioref}
\usepackage{multirow}
\usepackage{hhline}
\usepackage{inconsolata}
\usepackage{etoolbox}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{tikz}
\usetikzlibrary{positioning,shapes, shadows, arrows}
\usepackage{listings}

%%%%%%%%%%%%%%%%%%%%%%%%%
%   subsubsubsection    %

\usepackage{titlesec}
\titleclass{\subsubsubsection}{straight}[\subsection]

\newcounter{subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection.\arabic{subsubsubsection}}

\titleformat{\subsubsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsubsection}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\makeatletter
\def\toclevel@subsubsubsection{4}
\def\l@subsubsubsection{\@dottedtocline{4}{7em}{4em}}
\makeatother

\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

%                       %
%%%%%%%%%%%%%%%%%%%%%%%%%

\setlength\parindent{0pt}
\usepackage[parfill]{parskip}

\definecolor{dark-blue}{HTML}{000080}
\definecolor{dark-green}{HTML}{008000}
\definecolor{pale-purple}{HTML}{94558D}
\definecolor{dark-purple}{HTML}{0000AA}
\definecolor{regular-purple}{HTML}{660099}
\definecolor{magenta}{HTML}{B200B2}
\definecolor{light-gray}{HTML}{FAFAFA}
\definecolor{dark-gray}{HTML}{2D2D2D}
\definecolor{comment}{HTML}{808080}
\definecolor{digit}{HTML}{0000FF}

\newcommand*{\FormatDigit}[1]{\textcolor{digit}{#1}}

\lstset{
	language=Python,
	prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\space\hookleftarrow}},
	basicstyle=\footnotesize\ttfamily,
	%
	literate=%
    	{0}{{\FormatDigit{0}}}{1}%
        {1}{{\FormatDigit{1}}}{1}%
        {2}{{\FormatDigit{2}}}{1}%
        {3}{{\FormatDigit{3}}}{1}%
        {4}{{\FormatDigit{4}}}{1}%
        {5}{{\FormatDigit{5}}}{1}%
        {6}{{\FormatDigit{6}}}{1}%
        {7}{{\FormatDigit{7}}}{1}%
        {8}{{\FormatDigit{8}}}{1}%
        {9}{{\FormatDigit{9}}}{1}%
        {.0}{{\FormatDigit{.0}}}{2}% Following is to ensure that only periods
        {.1}{{\FormatDigit{.1}}}{2}% followed by a digit are changed.
        {.2}{{\FormatDigit{.2}}}{2}%
        {.3}{{\FormatDigit{.3}}}{2}%
        {.4}{{\FormatDigit{.4}}}{2}%
        {.5}{{\FormatDigit{.5}}}{2}%
        {.6}{{\FormatDigit{.6}}}{2}%
        {.7}{{\FormatDigit{.7}}}{2}%
        {.8}{{\FormatDigit{.8}}}{2}%
        {.9}{{\FormatDigit{.9}}}{2}%
        %{,}{{\FormatDigit{,}}{1}% depends if you want the "," in color
        {\ }{{ }}{1}% handle the space
		{æ}{{\ae}}1
        {ø}{{\o}}1
        {å}{{\aa}}1
        {Æ}{{\AE}}1	
        {Ø}{{\O}}1
        {Å}{{\AA}}1,
	%
	%emph={},
	otherkeywords={},
	keywords=[2]{self},
	keywords=[3]{__init__},
	keywords=[4]{object},
	keywords=[5]{encoding, flags},
	keywords=[6]{reduce,list,enumerate,len,map,range,sorted,None,super,@staticmethod},
	%
	keywordstyle=\bfseries\color{dark-blue},
	keywordstyle={[2]\color{pale-purple}},
	keywordstyle={[3]\color{magenta}},
	keywordstyle={[4]\color{dark-blue}},
	keywordstyle={[5]\color{regular-purple}},
	keywordstyle={[6]\color{dark-purple}},
    commentstyle=\itshape\color{comment},
    identifierstyle=\color{black},
	stringstyle=\bfseries\color{dark-green},
	%emphstyle=\color{dark-purple},
	%
	numbers=left, % where to put the line-numbers
	numberstyle=\ttfamily\color{dark-gray},
	numbersep=5pt, % how far the line-numbers are from the code
	stepnumber=1,
	showstringspaces=false,
	backgroundcolor=\color{light-gray},
	tabsize=4,
	captionpos=b, % sets the caption-position to bottom
	breaklines=true % sets automatic line breaking
}

\linespread{1.3}

\begin{document}

\begin{titlepage}
    \vspace*{\fill}
    \begin{center}
      {\Huge Midtvejsrapport Bachelorproject}\\[0.7cm]
      {\Large Regular Expression Matching In Genomic Data}\\[0.4cm]
      {\large Rasmus Haarslev - nkh877}\\
      {\large Troels Thomsen - qvw203}\\[0.4cm]
      {Supervisors: Rasmus Fonseca}\\
      {\small 23. Februar 2015}\\[0.3cm] 
      {\small Department of Computer Science}\\
      {\small University of Copenhagen}
    \end{center}
    \vspace*{\fill}
\end{titlepage}	

\clearpage
\pagenumbering{gobble}
\thispagestyle{empty}

\newpage

\tableofcontents
\newpage

\pagenumbering{arabic}

\section{Problem definition}

We wish to determine the possibility of converting sequence analysis patterns used for scan-for-matches\cite{scan-for-matches}, into regular expressions\cite{crash-course-regex} and test their efficiency against the KMC\cite{kmc-website} engine.

Specifically we wish to solve the following problems:

\begin{itemize}
	\item Is it possible to programatically convert patterns used by the scan-for-matches program into regular expressions for the KMC engine? If not all patterns used by scan-for-matches then which ones?
	\item Is it possible to achieve speeds matching or exceeding scan-for-matches with the generated regular expressions and the KMC engine?
	\item Can we find weak extensions to regular expressions, which would enable us to support more or all scan-for-matches patterns?
\end{itemize}

\newpage

\section{Introduction}

Scan for matches is a program developed by Ross Overbeek, David Joerg and Morgan Price, which is able to locate complex DNA patterns. These patterns are written in its own format, which from now on will be referred to as patscan patterns.

\newpage

\section{What is regular expressions}

\newpage

\section{Translation of scan-for-matches patterns into regular expressions}

\subsection{Mismatches, Insertions and Deletions}

The subpatterns can have the following form, which allows for mismatches, insertions and deletions in the subpattern. 

\begin{equation}
	x_1 \ldots x_n[m, i, d] \ \ \{ x_1 \ldots x_n \in A \ | \ m, i, d \in \mathbb{N}_0 \}
\end{equation} 

This notation allows for 0 or the given number of mismatches, insertions or deletionsin, or all possible combinations in between. This means we for an example can have $m$ mismatches and $i$ insertions, but not necessarily $d$ deletions.

We can combine the matching of mismatches and deletions to somewhat simplify our expressions.
We can express one mismatch and one deletion in the following regular expression.
\begin{eqnarray}
	((x_1?\ |\ [\ \hat{}x_1]) \ x_2 \cdots x_n) \ | \ (x_1? \ [\ \hat{}x_2] \ x_3 \cdots x_n) \ | \ & \cdots & \ | \ (x_1? \cdots x_{n-1} \ [\ \hat{}x_n]) \ | \\
	([\ \hat{}x_1] \ x_2? \cdots x_n) \ | \ (x_1 \ (x_2?\ |\ [\ \hat{}x_2]) \ x_3 \cdots x_n) \ | \ & \cdots & \ | \ (x_1 \ x_2? \cdots x_{n-1} \ [\ \hat{}x_n]) \ | \nonumber \\
	& \vdots & \nonumber \\
	([\ \hat{}x_1] \ x_2 \cdots x_n?) \ | \ (x_1 \ [\ \hat{}x_2] \ x_3 \cdots x_n?) \ | \ & \cdots & \ | \ (x_1 \cdots x_{n-1} \ (x_n?\ |\ [\ \hat{}x_n])) \nonumber
\end{eqnarray}

This quite large expression quickly grows into an even larger expression, if we have multiple mismatches or deletions. For two mismatches, we have the following. $\hookrightarrow$ denotes the continuation of the current line.
\begin{eqnarray}
	((x_1\ |\ [\ \hat{}x_1])\ (((x_2\ |\ [\ \hat{}x_2])\ x_3 \cdots x_n)\ &|&\ (x_2\ (x_3\ |\ [\ \hat{}x_3])\ x_4 \cdots x_n)\\
	\hookrightarrow |\ \cdots\ |\ (x_2\cdots x_{n-1}\ (x_n\ |\ [\ \hat{}x_n]))))\ | \nonumber \\
	 (x_1\ (x_2\ |\ [\ \hat{}x_2])\ (((x_3\ |\ [\ \hat{}x_3])\ x_4 \cdots x_n)\ &|&\ (x_3\ (x_4\ |\ [\ \hat{}x_4])\ x_5 \cdots x_n) \nonumber \\
	 \hookrightarrow |\ \cdots\ |\ (x_3 \cdots x_{n-1}\ (x_n\ |\ [\ \hat{}x_n]))))\ | \nonumber \\
	 & \vdots & \nonumber \\
	 (x_1\cdots x_{n-1}(x_n\ |\ [\ \hat{}x_n])) \nonumber
\end{eqnarray}

In the case of $m, i, d = n$, we have the following case.
\begin{eqnarray}
	.?\ (x_1?\ |\ [\ \hat{}x_1])\ .?\ (x_2?\ |\ [\ \hat{} x_2]) \cdots .?\ (x_n?\ |\ [\ \hat{}x_n])\ .? 
\end{eqnarray}

%\begin{eqnarray}
%	((((x_1?|.) \ x_2 \cdots x_n) \ | \ ((x_1?|.)(x_2?|.) \cdots x_n) \ | \ & \cdots & \ | \ ((x_1?|.)(x_2?|.) \cdots (x_n?|.))) \ | \\
%	\hookrightarrow (((x_1?|.) \ x_2 \cdots x_n) \ | \ ((x_1?|.) \ x_2 \ (x_3?|.) \cdots x_n) \ | \ & \cdots & \ | \ ((x_1?|.) \ x_2 \ (x_3?|.) \cdots (x_n?|.))) \ | \nonumber \\
% 	\hookrightarrow & \vdots & \nonumber \\
% 	\hookrightarrow (((x_1?|.) \ x_2 \cdots x_n) \ | \ & \cdots & \ | \ ((x_1?|.) \ x_2 \cdots x_{n-1} \ (x_n?|.)))) \ | \nonumber \\
% 	\nonumber \\
% 	(x_1((((x_2?|.) \cdots x_n) \ | \ ((x_2?|.) \ (x_3?|.) \cdots x_n) \ | \ & \cdots & \ | \ ((x_2?|.) \ (x_3?|.) \cdots (x_n?|.))) \ | \\
%	\hookrightarrow (((x_2?|.) \cdots x_n) \ | \ ((x_2?|.) \ x_3 \ (x_4|.) \cdots x_n) \ | \ & \cdots & \ | \ ((x_2?|.) \ x_3 \ (x_4?|.) \cdots (x_n?|.))) \ | \nonumber \\
% 	\hookrightarrow & \vdots & \nonumber \\
% 	\hookrightarrow (((x_2?|.) \cdots x_n) \ | \ & \cdots & \ | \ ((x_2?|.) \ x_3 \cdots x_{n-1} \ (x_n?|.))))) \ | \nonumber \\
% 	& \vdots & \nonumber \\
% 	(x_1 & \cdots & x_{n-1} \ (x_{n}?|.))
%\end{eqnarray}


\subsection{Variable assignments}



\section{Application flow chart}

\subsection{Lexer \& parser}

\begin{itemize}
	\item Lexer takes a pat\_scan pattern
	\item Pattern is split into sub-patterns at whitespace
	\item Find all assignments
	\begin{itemize}
		\item Put variable name in hash map
	\end{itemize}
	\item \textbf{For each} sub-pattern \textbf{do}
\end{itemize}



\newpage

\bibliographystyle{plain}
\nocite{*}
\bibliography{litterature}

\end{document}
